---
/**
 * Card - 统一卡片组件
 * 简洁优雅的玻璃态效果，适配暗色主题
 */
interface Props {
	variant?: 'glass' | 'holographic' | 'neon' | 'brutal';
	glow?: 'purple' | 'cyan' | 'green' | 'none';
	className?: string;
	href?: string;
}

const {
	variant = 'glass',
	glow = 'none',
	className = '',
	href
} = Astro.props;

const Tag = href ? 'a' : 'div';

// 变体样式 - 统一设计语言
const variantClasses = {
	glass: 'bg-dark-surface/40 backdrop-blur-md border border-white/5 hover:border-white/10',
	holographic: 'bg-dark-surface/40 backdrop-blur-md border-2 border-transparent bg-gradient-to-br from-primary-500/20 via-transparent to-secondary-500/20',
	neon: 'bg-dark-surface/40 backdrop-blur-md border border-primary-500/30 hover:border-primary-500/50',
	brutal: 'bg-dark-surface border-2 border-white/10',
};

// 发光效果（可选）
const glowClasses = {
	purple: 'hover:shadow-colored-purple',
	cyan: 'hover:shadow-colored-cyan',
	green: 'hover:shadow-glow-green',
	none: '',
};
---

<Tag
	href={href}
	class={`
		group relative block
		rounded-xl p-6
		transition-all duration-300
		${variantClasses[variant]}
		${glowClasses[glow]}
		${href ? 'cursor-pointer hover:-translate-y-1' : ''}
		${className}
	`}
>
	<!-- 内容插槽 -->
	<slot />

	<!-- 悬停时的微光效果 -->
	{variant === 'glass' && (
		<div class="absolute inset-0 rounded-xl bg-gradient-to-br from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
	)}
</Tag>

<style>
	/* 确保悬停时有平滑的动画 */
	a, div {
		backface-visibility: hidden;
		-webkit-font-smoothing: antialiased;
	}
</style>
